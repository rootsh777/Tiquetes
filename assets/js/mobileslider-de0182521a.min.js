!function(v){"use strict";function g(t){return t.outerWidth(!0)}v.fn.mobileSlider=function(t){var m=v.extend({},v.fn.mobileSlider.defaults,t);return this.each(function(){function l(){for(var t,i=n.width()/2,e=null,a=0,s=o.length;a<s;a++){var l=v(o[a]);if(!(l.position().left<=i))break;e=l}f&&f[0]===e[0]||(t='[data-node="'+(f=e).data("slide-id")+'"]',o.removeClass("active"),f.addClass("active"),c.find(".slider-dot").removeClass("active").filter(t).addClass("active"))}function a(t,i){t=v(t);var e=g(n),a=g(t),t=t.position().left,s=n.scrollLeft();s+=t-(e-a)/2,!1!==i?n.animate({scrollLeft:s},{duration:"400ms"}):n.scrollLeft(s),l()}function t(){var t=v(m.container).width(),i=d.hasClass("mobile-slider-active");if(t<=m.sliderWhen){if(!i){if(d.addClass("mobile-slider-active"),!h){h=!0,n=d.find("ul"),o=n.find("li"),c=v('<div class="slider-nav"></div>').appendTo(d),n.addClass("slider-content");if(0<o.length){m.itemWidth&&o.width(m.itemWidth);{var e='<div class="slider-dots">';o.each(function(t){v(this).data("slide-id",t),e+='<div class="slider-dot" data-node="'+t+'"></div>'}),e+="</ul>",c.html('<a href="" class="slider-prev"></a><a href="" class="slider-next"></a>'+e),c.on("click",".slider-dot",function(){var t=v(this).attr("data-node");a(o[t])})}n.on("scroll",l),l(),c.on("click",".slider-prev",function(t){t.preventDefault();t=f.data("slide-id")-1;return t<0&&(t=o.length-1),a(o[t]),!1}),c.on("click",".slider-next",function(t){t.preventDefault();t=(f.data("slide-id")+1)%o.length;return a(o[t]),!1})}}u=(n.width()-o.first().width())/2,o.first().css("margin-left",u+"px"),o.last().css("margin-right",u+"px"),a(o[function t(i){var e=o.length,a=0;if("string"==typeof i)switch(i){case"middle":a=Math.ceil((o.length-1)/2);break;case"first":a=0;break;case"last":a=o.length-1;break;default:a=parseInt(m.startAt)}else"number"==typeof i?a=i:jQuery.isFunction(i)&&(a=t(i(m,e)));for(isNaN(a)?a=0:e<=a&&(a=e-1);a<0;)a=e-a;return a}(m.startAt)],!1)}}else i&&h&&(o.first().css("margin-left",""),o.last().css("margin-right",""),d.removeClass("mobile-slider-active"))}var i,e,s,r,d=v(this),n=null,o=null,c=null,f=null,h=!1,u=0;d.hasClass("mobile-slider")||d.addClass("mobile-slider"),e=m,s=(i=d).attr("data-item-width")||i.attr("item-width"),r=i.attr("data-slider-when")||i.attr("slider-when"),i=i.attr("data-start-at")||i.attr("start-at"),s&&(e.itemWidth=s),r&&(e.sliderWhen=r),i&&(e.startAt=i),"string"==typeof(s=m).itemWidth&&(r=s.itemWidth.charAt(s.itemWidth.length-1),isNaN(parseInt(r))||(s.itemWidth+="px")),v(window).on("resize orientationchange",t),t()})},v.fn.mobileSlider.defaults={itemWidth:null,startAt:"middle",sliderWhen:1024,container:window},v(document).ready(function(){v(".mobile-slider").mobileSlider()})}(jQuery);